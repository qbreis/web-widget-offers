<html>
<head>
    <title>Widget de ofertas</title>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- /* To ensure that the JavaScript file is not loaded from cache when included, I can append current timestamp as a query parameter to the URL. This is a common technique to force the browser to fetch the file anew, bypassing any cached versions. */ -->
    <script src='dist/web_widget_offers.1.0.1.js?<?=time();?>' ></script>

</head>
<body>
    <h1>
        Widget de ofertas
    </h1>
    <p>
        El código de este widget se encuentra en repo: <a href="https://github.com/agenciawebsqs/web-widget-offers" target="_blank">web-widget-offers</a>
    </p>
    <p>
        Este <strong>widget de ofertas</strong> se conecta a un punto de acceso de <strong>WordPress</strong> y utiliza la configuración específica de las ofertas en este proyecto (<a href="https://www.karellis-reservation.com" target="_blank">https://www.karellis-reservation.com</a>) para obtener la disponibilidad de las mismas a través de una solicitud <strong>GraphQL</strong> al punto de acceso en concreto (<a href="https://leskarellis.resalys.com/rsl/graphiql" target="_blank">https://leskarellis.resalys.com/rsl/graphiql</a>), que devuelve los datos en formato JSON.
    </p>
    <div id="web-widget-container"></div>
    <script>
    web_widget_offers.initWidget({
        id: 'web-widget-container',
        language: 'fr',
        // endpointUrl: 'https://www.karellis-reservation.com/wp-json/api-campings/v2/get_offers',
        endpointUrl: 'http://localhost/leskarellis-2/documents/wp-json/api-campings/v2/get_offers',
        graphqlConfig: {
            endpointUrl: 'https://leskarellis.resalys.com/rsl/graphql', // https://leskarellis.resalys.com/rsl/graphiql
            username: 'web_fr',
        },
        season: 'winter',
        displayMode: 'grid',
    });
    </script>
</body>
</html>